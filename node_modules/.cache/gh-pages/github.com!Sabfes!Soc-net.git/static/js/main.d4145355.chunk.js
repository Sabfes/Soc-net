(this["webpackJsonpreact-sn"]=this["webpackJsonpreact-sn"]||[]).push([[0],{117:function(e,t,n){e.exports={MyPost__textarea:"MyPosts_MyPost__textarea__i_8Mt"}},124:function(e,t,n){e.exports={Paginator:"Paginator_Paginator__3TWnt",Paginator__item:"Paginator_Paginator__item__1cyBC",selectedPage:"Paginator_selectedPage__3JmsX"}},146:function(e,t,n){e.exports={ProfileInfo:"ProfileInfo_ProfileInfo__2zfPe",ProfileInfo__description:"ProfileInfo_ProfileInfo__description__2LPQC",ProfileInfo__avatarImg:"ProfileInfo_ProfileInfo__avatarImg__8DZVv"}},147:function(e,t,n){e.exports={ProfileStatus:"ProfileStatus_ProfileStatus__1Gp97",ProfileStatus_status:"ProfileStatus_ProfileStatus_status__3t1-3"}},148:function(e,t,n){e.exports={MainInfo:"ProfileDataFormRedux_MainInfo__18END",MainInfo__job:"ProfileDataFormRedux_MainInfo__job__2HsSy"}},149:function(e,t,n){e.exports={Contact:"Contact_Contact__3Su-x",Contact__link:"Contact_Contact__link__3EO4n"}},150:function(e,t,n){e.exports={DialogItem:"DialogItem_DialogItem__3fwIe",DialogsItemActive:"DialogItem_DialogsItemActive__2wTFT"}},151:function(e,t,n){e.exports={Users:"Users_Users__hfonN",Users__button:"Users_Users__button__2DM9m",Users__container:"Users_Users__container__2Fj_6"}},152:function(e,t,n){e.exports={Container:"Loader_Container__2FiGH",ldsEllipsis:"Loader_ldsEllipsis__36TUh",ldsEllipsis1:"Loader_ldsEllipsis1__2OQis",ldsEllipsis2:"Loader_ldsEllipsis2__WjScC",ldsEllipsis3:"Loader_ldsEllipsis3__3abS4"}},154:function(e,t,n){e.exports={Login:"Login_Login__39PGm",Login__content:"Login_Login__content__2RYIE"}},155:function(e,t,n){e.exports={Header__logo:"Header_Header__logo__34yLv",Header__login:"Header_Header__login__rhhoE"}},204:function(e,t,n){e.exports={ProfileInfo:"Profile_ProfileInfo__1LDap",ProfileInfo__background:"Profile_ProfileInfo__background__7RJJs",PostContainer:"Profile_PostContainer__1ShUp"}},206:function(e,t,n){e.exports={Button:"Button_Button__3BYkD"}},208:function(e,t,n){e.exports={News:"News_News__3Czwo"}},209:function(e,t,n){e.exports={Music:"Music_Music__I-tzv"}},210:function(e,t,n){e.exports={Settings:"Settings_Settings__24Yfv"}},247:function(e,t,n){},248:function(e,t,n){},372:function(e,t,n){"use strict";n.r(t);var a,r=n(0),s=n.n(r),i=n(33),o=n.n(i),c=(n(247),n(17)),l=n(18),u=n(20),d=n(19),j=(n(248),n(41)),f=n.n(j),b=n(23),_=n(13),p=n(378),h=n(381),O=n(382),m=n(383),g=n(384),x=n(385),v=n(386),P=n(1),C=Object(_.b)((function(e){return{userId:e.auth.userId}}),null)((function(e){var t=e.userId;return Object(P.jsxs)(p.a,{defaultSelectedKeys:["1"],mode:"inline",children:[Object(P.jsx)(p.a.Item,{icon:Object(P.jsx)(h.a,{}),children:Object(P.jsx)(b.b,{className:f.a.Navbar__link,to:"/profile/"+t,activeClassName:f.a.Navbar__linkActive,children:"Profile"})},"1"),Object(P.jsx)(p.a.Item,{icon:Object(P.jsx)(O.a,{}),children:Object(P.jsx)(b.b,{className:f.a.Navbar__link,to:"/dialogs",activeClassName:f.a.Navbar__linkActive,children:"Messages"})},"2"),Object(P.jsx)(p.a.Item,{icon:Object(P.jsx)(m.a,{}),children:Object(P.jsx)(b.b,{className:f.a.Navbar__link,to:"/users",activeClassName:f.a.Navbar__linkActive,children:"Users"})},"3"),Object(P.jsx)(p.a.Item,{icon:Object(P.jsx)(g.a,{}),children:Object(P.jsx)(b.b,{className:f.a.Navbar__link,to:"/news",activeClassName:f.a.Navbar__linkActive,children:"News"})},"4"),Object(P.jsx)(p.a.Item,{icon:Object(P.jsx)(x.a,{}),children:Object(P.jsx)(b.b,{className:f.a.Navbar__link,to:"/music",activeClassName:f.a.Navbar__linkActive,children:"Music"})},"5"),Object(P.jsx)(p.a.Item,{icon:Object(P.jsx)(v.a,{}),children:Object(P.jsx)(b.b,{className:f.a.Navbar__link,to:"/settings",activeClassName:f.a.Navbar__linkActive,children:"Settings"})},"6")]})})),N=n(204),S=n.n(N),I=n(117),w=n.n(I),y=n(97),D=n.n(y),k=function(e){return Object(P.jsxs)("div",{className:D.a.Container,children:[Object(P.jsxs)("div",{className:D.a.Post,children:[Object(P.jsx)("img",{className:D.a.Post__img,src:"http://cdn.onlinewebfonts.com/svg/img_167183.png",alt:"post_img"}),Object(P.jsx)("span",{className:D.a.Post__text,children:e.text})]}),Object(P.jsx)("span",{children:"like"})]})},A=function(e){if(!e)return"Field is required"},U=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},M=n(185),E=n(186),F=n(2),L=n(28),T=n(63),R=n.n(T),H=function(e){var t=e.input,n=e.meta,a=Object(L.a)(e,["input","meta"]),r=n.error&&n.touched;return Object(P.jsxs)("div",{className:R.a.formControl+" "+(r?R.a.error:null),children:[Object(P.jsx)("textarea",Object(F.a)(Object(F.a)({className:R.a.formControl__textArea},a),t)),r?Object(P.jsx)("span",{className:R.a.errorMessage,children:n.error}):null]})},z=function(e){var t=e.input,n=e.meta,a=Object(L.a)(e,["input","meta"]),r=n.error&&n.touched;return Object(P.jsxs)("div",{className:R.a.formControl+" "+(r?R.a.error:null),children:[Object(P.jsx)("input",Object(F.a)(Object(F.a)({className:R.a.formControl__input},a),t)),r?Object(P.jsx)("span",{className:R.a.errorMessage,children:n.error}):null]})},J=U(10),G=Object(E.a)({form:"ProfileNewPostForm"})((function(e){var t=e.handleSubmit;return Object(P.jsxs)("form",{onSubmit:t,children:[Object(P.jsx)(M.a,{placeholder:"Post message",className:w.a.MyPost__textarea,validate:[A,J],component:H,name:"newPostText"}),Object(P.jsx)("button",{children:"Add post"})]})})),B=function(e){return Object(P.jsxs)("div",{className:w.a.MyPost,children:[Object(P.jsx)("h1",{children:"My posts"}),Object(P.jsx)(G,{onSubmit:e.onChange}),e.posts.map((function(e,t){return Object(P.jsx)(k,{text:e.text},t)}))]})},W=n(10),Y=n(146),V=n.n(Y),Z=n(147),K=n.n(Z),X=function(e){var t=e.desc,n=e.updateProfileStatus,a=e.isOwner,s=Object(r.useState)(!1),i=Object(W.a)(s,2),o=i[0],c=i[1],l=Object(r.useState)(t||"desc"),u=Object(W.a)(l,2),d=u[0],j=u[1];Object(r.useEffect)((function(){j(t)}),[t]);return Object(P.jsxs)("div",{className:K.a.ProfileStatus,children:["Status:",o?Object(P.jsx)("input",{onBlur:function(){c(!1),n(d)},autoFocus:!0,onChange:function(e){j(e.target.value)},value:d,type:"text"}):Object(P.jsx)("span",{className:K.a.ProfileStatus_status,onDoubleClick:function(){a&&c(!0)},children:d})]})},q=n.p+"static/media/avatar-profile.2d4393d1.png",Q=n(148),$=n.n(Q),ee=n(206),te=n.n(ee),ne=function(e){return Object(P.jsx)("button",Object(F.a)(Object(F.a)({},e),{},{className:te.a.Button,children:e.value}))},ae=Object(E.a)({form:"profileData"})((function(e){var t=e.handleSubmit,n=e.error,a=e.profileInfo;return Object(P.jsxs)("form",{onSubmit:t,children:[Object(P.jsx)(ne,{type:"submit",value:"save"}),n?Object(P.jsx)("div",{style:{color:"red",marginTop:"20px",fontSize:"24px"},children:n}):null,Object(P.jsxs)("div",{className:$.a.MainInfo,children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("p",{children:"Full Name:"}),Object(P.jsx)(M.a,{component:z,validate:[A],name:"fullName",placeholder:"FullName"})]}),Object(P.jsxs)("div",{className:$.a.MainInfo__job,children:[Object(P.jsx)("p",{children:"Looking For a job?"}),Object(P.jsx)(M.a,{component:z,validate:[],name:"lookingForAJob",placeholder:"Looking For a job?",type:"checkbox"})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("p",{children:"Job Description:"}),Object(P.jsx)(M.a,{component:H,validate:[A],name:"lookingForAJobDescription",placeholder:"job Description"})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("p",{children:"About Me:"}),Object(P.jsx)(M.a,{component:H,validate:[A],name:"aboutMe",placeholder:"AboutMe"})]})]}),Object(P.jsxs)("div",{children:["Contacts:",Object.keys(a.contacts).map((function(e,t){return Object(P.jsx)("div",{children:Object(P.jsx)(M.a,{component:z,validate:[],name:"contacts."+e,placeholder:e})},t)}))]})]})})),re=n(68),se=n.n(re),ie=n(149),oe=n.n(ie),ce=function(e){var t=e.title,n=e.value;return Object(P.jsxs)("div",{className:oe.a.Contact,children:[t,": ",Object(P.jsx)("span",{className:oe.a.Contact__link,children:n||"-"})]})},le=function(e){var t=e.profileInfo;return Object(P.jsxs)("div",{className:se.a.ProfileData,children:[Object(P.jsxs)("div",{className:se.a.ProfileData__info,children:[Object(P.jsxs)("div",{children:["Fullname:",Object(P.jsx)("span",{className:se.a.ProfileData__inputInfo,children:t.fullName})]}),Object(P.jsxs)("div",{children:["looking For A Job:",Object(P.jsx)("span",{className:se.a.ProfileData__inputInfo,children:t.lookingForAJob?"yes":"no"})]}),t.lookingForAJob?Object(P.jsxs)("div",{children:["looking For A Job Description:",Object(P.jsx)("span",{className:se.a.ProfileData__inputInfo,children:t.lookingForAJobDescription})]}):null,Object(P.jsxs)("div",{children:["aboutMe: ",Object(P.jsx)("span",{className:se.a.ProfileData__inputInfo,children:t.aboutMe})]})]}),Object(P.jsxs)("div",{className:se.a.ProfileData__contacts,children:["Contacts:",Object.keys(t.contacts).map((function(e){return Object(P.jsx)(ce,{title:e,value:t.contacts[e]},e)}))]})]})},ue=function(e){var t=Object(r.useState)(!1),n=Object(W.a)(t,2),a=n[0],s=n[1];return Object(P.jsxs)("div",{className:V.a.ProfileInfo,children:[Object(P.jsx)("img",{className:V.a.ProfileInfo__avatarImg,src:e.avatarImg.large||q,alt:"avatar-img"}),e.isOwner?Object(P.jsx)("input",{type:"file",onChange:function(t){var n;(null===(n=t.target.files)||void 0===n?void 0:n.length)&&e.savePhoto(t.target.files[0])}}):null,Object(P.jsx)(X,{isOwner:e.isOwner,updateProfileStatus:e.updateProfileStatus,desc:e.desc}),e.isOwner&&!a?Object(P.jsx)(ne,{onClick:function(){s(!0)},value:"edit"}):null,a?Object(P.jsx)(ae,{profileInfo:e.profileInfo,initialValues:e.profileInfo,onSubmit:function(t){e.updateProfileInfo(t).then((function(){s(!1)}))}}):Object(P.jsx)(le,{profileInfo:e.profileInfo})]})},de=n(16),je=n.n(de),fe=n(31),be="profile/ADD_POST",_e="profile/SET_PROFILE_INFO",pe="profile/SET_PROFILE_STATUS",he="SAVE_PHOTO_SUCCESS",Oe="message/ADD_MESSAGE",me="users/FOLLOW_TOGGLE",ge="users/SET_USERS",xe="users/CHANGE_CURRENT_PAGE",ve="users/SET_USERS_TOTAL_COUNT",Pe="users/IS_FETCH_TOGGLE",Ce="users/FOLLOW_FETCHING_TOGGLE",Ne="users/SET_FILTERS",Se="auth/SET_USER_DATA",Ie="app/INITIALIZED_SUCCESS",we=n(207),ye=n.n(we).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"71a0323c-7ff9-4763-8740-70e9a845b5eb"}});!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.ERROR=1]="ERROR"}(a||(a={}));var De=function(e){return ye.get("profile/".concat(e)).then((function(e){return e.data}))},ke=function(e){return ye.get("profile/status/".concat(e)).then((function(e){return e.data}))},Ae=function(e){return ye.put("profile/status",{status:e}).then((function(e){return e.data}))},Ue=function(e){return ye.put("profile/",e).then((function(e){return e.data}))},Me=function(e){var t=new FormData;return t.append("image",e),ye.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},Ee=n(53),Fe=function(e){return{type:pe,status:e}},Le=function(e){return function(){var t=Object(fe.a)(je.a.mark((function t(n){var a;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,De(e);case 2:a=t.sent,n({type:_e,data:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Te=n(22),Re=n(15),He=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).updateProfile=function(){if(!e.props.isAuth)return Object(P.jsx)(Te.a,{to:"/login"});var t=+e.props.match.params.id;if(t||(t=e.props.userId)||e.props.history.push("/login "),!t)throw new Error("Id should exist in URL params or in state");e.props.getProfile(t),e.props.getProfileStatus(t)},e.onChangeHandler=function(t){e.props.addPost(t.newPostText)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.updateProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.id!==e.match.params.id&&this.updateProfile()}},{key:"render",value:function(){return this.props.isAuth?Object(P.jsxs)("main",{className:S.a.ProfileInfo,children:[Object(P.jsx)(ue,{updateProfileInfo:this.props.updateProfileInfo,profileInfo:this.props.profileInfo,isOwner:+this.props.match.params.id===this.props.userId,updateProfileStatus:this.props.updateProfileStatus,avatarImg:this.props.photos,desc:this.props.status,savePhoto:this.props.savePhoto}),Object(P.jsx)(B,{onChange:this.onChangeHandler,posts:this.props.posts})]}):Object(P.jsx)(Te.a,{to:"/login"})}}]),n}(s.a.Component);var ze=Object(Re.d)(Te.h,Object(_.b)((function(e){return{posts:e.profilePage.posts,profileInfo:e.profilePage.profileInfo,status:e.profilePage.status,isAuth:e.auth.isAuth,userId:e.auth.userId,photos:e.profilePage.photos}}),{newPostTextUpdate:function(e){return{type:"profile/NEW_POST_TEXT",text:e}},addPost:function(e){return{type:be,text:e}},getProfile:Le,updateProfileInfo:function(e){return function(){var t=Object(fe.a)(je.a.mark((function t(n,r){var s,i;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r().auth.userId,t.next=3,Ue(e);case 3:if((i=t.sent).resultCode!==a.SUCCESS){t.next=8;break}null!==s?n(Le(s)):console.log("userId = null"),t.next=10;break;case 8:return n(Object(Ee.a)("profileData",{_error:i.messages[0]})),t.abrupt("return",Promise.reject(i.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},updateProfileStatus:function(e){return function(){var t=Object(fe.a)(je.a.mark((function t(n){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ae(e);case 2:t.sent.resultCode===a.SUCCESS&&n(Fe(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getProfileStatus:function(e){return function(){var t=Object(fe.a)(je.a.mark((function t(n){var a;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ke(e);case 2:a=t.sent,n(Fe(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(fe.a)(je.a.mark((function t(n){var r;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Me(e);case 2:(r=t.sent).resultCode===a.SUCCESS&&n((s=r.data.photos,{type:he,photo:s}));case 4:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(He),Je=n(74),Ge=n.n(Je),Be=n(98),We=n.n(Be),Ye=function(e){var t=e.name,n=e.text;return Object(P.jsxs)("div",{className:We.a.Message,children:[Object(P.jsxs)("div",{className:We.a.Message__info,children:[Object(P.jsx)("img",{className:We.a.Message__img,src:"http://cdn.onlinewebfonts.com/svg/download_508630.png",alt:"avatar"}),Object(P.jsx)("span",{children:t})]}),Object(P.jsx)("p",{className:We.a.Message__text,children:n})]})},Ve=n(150),Ze=n.n(Ve),Ke=function(e){var t=e.id,n=e.name;return Object(P.jsx)(b.b,{className:Ze.a.DialogItem,to:"/dialogs/".concat(t),activeClassName:Ze.a.DialogsItemActive,children:n})},Xe=function(e){var t=function(t){Object(u.a)(a,t);var n=Object(d.a)(a);function a(){return Object(c.a)(this,a),n.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return this.props.isAuth?Object(P.jsx)(e,Object(F.a)({},this.props)):Object(P.jsx)(Te.a,{to:"/login"})}}]),a}(s.a.Component);return Object(_.b)((function(e){return{isAuth:e.auth.isAuth}}),null)(t)},qe=U(50),Qe=Object(E.a)({form:"dialogAddMessageForm"})((function(e){var t=e.handleSubmit;return Object(P.jsxs)("form",{onSubmit:t,children:[Object(P.jsx)(M.a,{component:H,name:"newMsg",placeholder:"text",validate:[A,qe],className:Ge.a.Dialogs__textarea}),Object(P.jsx)("button",{children:"Add message"})]})}));var $e=Object(Re.d)(Object(_.b)((function(e){return{messages:e.messagesPage.messages,dialogs:e.messagesPage.dialogs}}),{addNewMessageActionCreator:function(e){return{type:Oe,message:e}}}),Xe)((function(e){var t=e.isAuth,n=e.messages,a=e.dialogs,r=e.addNewMessageActionCreator;return t?Object(P.jsxs)("div",{className:Ge.a.Dialogs,children:[Object(P.jsx)("h1",{children:"Dialogs"}),Object(P.jsxs)("div",{className:Ge.a.Dialogs__container,children:[Object(P.jsx)("div",{className:Ge.a.Dialogs__lists,children:a.map((function(e,t){return Object(P.jsx)(Ke,{name:e.name,id:e.id},t)}))}),Object(P.jsxs)("div",{className:Ge.a.Dialogs__messages,children:[n.map((function(e,t){return Object(P.jsx)(Ye,{name:e.name,text:e.text},t)})),Object(P.jsx)(Qe,{onSubmit:function(e){r(e.newMsg)}})]})]})]}):Object(P.jsx)(Te.a,{to:"/login"})})),et=n(208),tt=n.n(et),nt=Xe((function(){return Object(P.jsx)("div",{className:tt.a.News,children:Object(P.jsx)("h1",{children:"News"})})})),at=n(209),rt=n.n(at),st=n.p+"static/media/audio-boyka.dea5dbfe.mp3",it=Xe((function(){return Object(P.jsxs)("div",{className:rt.a.Music,children:[Object(P.jsx)("h1",{children:"Music"}),Object(P.jsxs)("div",{onClick:function(e){console.log(e.target)},children:[Object(P.jsx)("p",{children:"Miya Boyko - AUF"}),Object(P.jsx)("audio",{controls:!0,children:Object(P.jsx)("source",{src:st,type:"audio/mpeg"})})]})]})})),ot=n(210),ct=n.n(ot),lt=Xe((function(){return Object(P.jsx)("div",{className:ct.a.Settings,children:Object(P.jsx)("h1",{children:"Settings"})})})),ut=n(151),dt=n.n(ut),jt=n(75),ft=n.n(jt),bt=function(e){var t=e.id,n=e.imgUrl,a=e.isFollow,r=e.btnDisabledIdArray,s=e.unFollow,i=e.name,o=e.status,c=e.follow;return Object(P.jsxs)("div",{className:ft.a.UserCard,children:[Object(P.jsxs)("div",{className:ft.a.UserCard__left,children:[Object(P.jsx)(b.b,{to:"/profile/"+t,children:Object(P.jsx)("img",{className:ft.a.UserCard__avatar,src:null!==n?n:q,alt:"avatar"})}),a?Object(P.jsx)("button",{disabled:!!r.some((function(e){return e===t})),id:t.toString(),onClick:function(){return s(t)},className:ft.a.UserCard__button,children:"UNFOLLOW"}):Object(P.jsx)("button",{disabled:!!r.some((function(e){return e===t})),id:t.toString(),onClick:function(){c(t)},className:ft.a.UserCard__button,children:"FOLLOW"})]}),Object(P.jsxs)("div",{className:ft.a.UserCard__right,children:[Object(P.jsx)("span",{children:i}),Object(P.jsx)("span",{children:o})]})]})},_t=n(124),pt=n.n(_t),ht=function(e){var t=e.currentPage,n=e.changePage,a=e.pages,s=Object(r.useState)(1),i=Object(W.a)(s,2),o=i[0],c=i[1],l=10*(o-1),u=10*o;return Object(P.jsxs)("div",{className:pt.a.Paginator,children:[Object(P.jsx)("button",{onClick:function(){1<o&&c((function(e){return e-1}))},children:"-"}),a.filter((function(e){return e>=l&&e<=u})).map((function(e,a){return Object(P.jsx)("span",{id:e.toString(),onClick:n,className:t===e?pt.a.selectedPage:pt.a.Paginator__item,children:e},a)})),Object(P.jsx)("button",{onClick:function(){Math.ceil(a.length/10)>o&&c((function(e){return e+1}))},children:"+"})]})},Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ye.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===a?"":"&friend=".concat(a)))},mt=function(e){return ye.post("follow/".concat(e)).then((function(e){return e.data}))},gt=function(e){return ye.delete("follow/".concat(e)).then((function(e){return e.data}))},xt=function(e){return{type:me,id:e}},vt=function(e){return{type:xe,id:e}},Pt=function(e){return{type:Pe,bool:e}},Ct=function(e){return{type:Ce,id:e}},Nt=function(e){return{type:Ne,filter:e}},St=function(e,t,n){return function(){var a=Object(fe.a)(je.a.mark((function a(r){return je.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(Pt(!0)),r(vt(e)),r(Nt(n)),a.next=5,Ot(e,t,n.term,n.friend).then((function(e){var t,n;r((t=e.data.items,{type:ge,users:t})),r((n=e.data.totalCount,{type:ve,count:n})),r(Pt(!1))}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},It=n(152),wt=n.n(It),yt=function(){return Object(P.jsx)("div",{className:wt.a.Container,children:Object(P.jsxs)("div",{className:wt.a.ldsEllipsis,children:[Object(P.jsx)("div",{}),Object(P.jsx)("div",{}),Object(P.jsx)("div",{}),Object(P.jsx)("div",{})]})})},Dt=n(99),kt=function(e){var t=Object(_.d)((function(e){return e.usersPage.filter}));return Object(P.jsx)(Dt.c,{enableReinitialize:!0,initialValues:{term:t.term,friend:String(t.friend)},validate:function(e){return{}},onSubmit:function(t,n){var a=n.setSubmitting,r={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.onFilterChanged(r),a(!1)},children:function(e){var t=e.isSubmitting;return Object(P.jsxs)(Dt.b,{children:[Object(P.jsx)(Dt.a,{type:"text",name:"term"}),Object(P.jsxs)(Dt.a,{name:"friend",as:"select",children:[Object(P.jsx)("option",{value:"null",children:"All"}),Object(P.jsx)("option",{value:"true",children:"Only followed"}),Object(P.jsx)("option",{value:"false",children:"Only unfollowed"})]}),Object(P.jsx)("button",{type:"submit",disabled:t,children:"Find"})]})}})},At=n(153),Ut=Object(_.b)(null,{changeCurrentPage:vt,followFetchingToggle:Ct})(Xe((function(e){var t=Object(_.d)((function(e){return e.usersPage.totalUsersCount})),n=Object(_.d)((function(e){return e.usersPage.currentPage})),s=Object(_.d)((function(e){return e.usersPage.pageSize})),i=Object(_.d)((function(e){return e.usersPage.filter})),o=Object(_.d)((function(e){return e.usersPage.followFetchingId})),c=Object(_.d)((function(e){return e.usersPage.isFetch})),l=Object(_.d)((function(e){return e.usersPage.users})),u=Object(_.c)(),d=Object(Te.g)();Object(r.useEffect)((function(){var e=At.parse(d.location.search.substr(1)),t=n,a=i;switch(e.page&&(t=Number(e.page)),e.term&&(a=Object(F.a)(Object(F.a)({},a),{},{term:e.term})),e.friend){case"null":a=Object(F.a)(Object(F.a)({},a),{},{friend:null});break;case"true":a=Object(F.a)(Object(F.a)({},a),{},{friend:!0});break;case"false":a=Object(F.a)(Object(F.a)({},a),{},{friend:!1})}u(St(t,s,a))}),[]),Object(r.useEffect)((function(){var e={};i.term&&(e.term=i.term),null!==i.friend&&(e.friend=String(i.friend)),1!==n&&(e.page=String(n)),d.push({pathname:"/users",search:At.stringify(e)})}),[i,n,d]);for(var j=function(e){var t;u((t=e,function(e){e(Ct(t)),gt(t).then((function(n){n.resultCode===a.SUCCESS&&(e(xt(t)),e(Ct(t)))}))}))},f=function(e){var t;u((t=e,function(e){e(Ct(t)),mt(t).then((function(n){n.resultCode===a.SUCCESS&&(e(xt(t)),e(Ct(t)))}))}))},b=Math.ceil(t/s),p=[],h=1;h<=b;h++)p.push(h);return Object(P.jsxs)("div",{className:dt.a.Users,children:[Object(P.jsx)("h1",{children:"users"}),Object(P.jsx)(kt,{onFilterChanged:function(e){u(St(1,s,e))}}),Object(P.jsx)(ht,{pages:p,changePage:function(e){u(St(+e.target.id,s,i))},currentPage:n}),Object(P.jsxs)("div",{className:dt.a.Users__container,children:[c?Object(P.jsx)(yt,{}):null,c?null:l.map((function(e,t){return Object(P.jsx)(bt,{id:e.id,name:e.name,status:e.status,isFollow:e.followed,imgUrl:e.photos.small,btnDisabledIdArray:o,follow:f,unFollow:j},t)}))]})]})}))),Mt=U(30),Et=Object(E.a)({form:"login"})((function(e){var t=e.error,n=e.handleSubmit;return Object(P.jsxs)("form",{onSubmit:n,children:[Object(P.jsx)(M.a,{component:z,validate:[Mt,A],name:"email",placeholder:"login"}),Object(P.jsx)(M.a,{component:z,validate:[Mt,A],name:"password",placeholder:"password"}),Object(P.jsxs)("div",{children:[Object(P.jsx)(M.a,{component:"input",name:"rememberMe",type:"checkbox"}),Object(P.jsx)("span",{children:"remember me"})]}),Object(P.jsx)("button",{children:"login"}),t?Object(P.jsx)("div",{style:{color:"red",marginTop:"20px",fontSize:"24px"},children:t}):null]})})),Ft=n(154),Lt=n.n(Ft),Tt=function(){return ye.get("auth/me").then((function(e){return e.data}))},Rt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ye.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},Ht=function(){return ye.delete("auth/login")},zt=function(e,t,n,a){return{type:Se,data:{userId:e,email:t,login:n,isAuth:a}}},Jt=function(){return function(){var e=Object(fe.a)(je.a.mark((function e(t){var n,r,s,i,o;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt();case 2:(n=e.sent).resultCode===a.SUCCESS&&(r=n.data,s=r.id,i=r.login,o=r.email,t(zt(s,o,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};var Gt=Object(_.b)((function(e){return{isAuth:e.auth.isAuth,userId:e.auth.userId}}),{LoginUser:function(e,t,n){return function(){var r=Object(fe.a)(je.a.mark((function r(s){var i,o;return je.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rt(e,t,n);case 2:(i=r.sent).resultCode===a.SUCCESS?s(Jt()):(o=i.messages.length>0?i.messages[0]:"Some error",s(Object(Ee.a)("login",{_error:o})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=e.LoginUser,n=e.isAuth,a=e.userId;return n?Object(P.jsx)(Te.a,{to:"/profile/".concat(a)}):Object(P.jsx)("div",{className:Lt.a.Login,children:Object(P.jsxs)("div",{className:Lt.a.Login__content,children:[Object(P.jsx)("h1",{children:"Login Page"}),Object(P.jsx)(Et,{onSubmit:function(e){t(e.email,e.password,e.rememberMe)}})]})})})),Bt=(n(371),n(375)),Wt=n(155),Yt=n.n(Wt),Vt=n(50),Zt=n(379),Kt=n(380),Xt=n(377),qt=function(){var e=Object(_.d)((function(e){return e.auth.isAuth})),t=Object(_.c)();return Object(P.jsx)(Vt.c,{className:"site-layout-background",style:{padding:0,backgroundColor:"#001529"},children:Object(P.jsxs)(Zt.a,{children:[Object(P.jsx)(Kt.a,{span:22,children:Object(P.jsx)("span",{className:Yt.a.Header__logo,children:"bitaev.SN"})}),Object(P.jsx)(Kt.a,{span:2,children:e?Object(P.jsx)(Xt.a,{type:"primary",onClick:function(){t(function(){var e=Object(fe.a)(je.a.mark((function e(t){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ht();case 2:e.sent.data.resultCode===a.SUCCESS&&t(zt(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"logout"}):Object(P.jsx)("div",{children:Object(P.jsx)(b.b,{className:Yt.a.Header__login,to:"/login",children:"login"})})})]})})},Qt=Bt.a.Content,$t=Bt.a.Sider,en=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1},e.onCollapse=function(t){console.log(t),e.setState({collapsed:t})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){var e=this.state.collapsed;return this.props.initialized?Object(P.jsxs)(Bt.a,{style:{minHeight:"100vh"},children:[Object(P.jsx)(qt,{}),Object(P.jsxs)(Bt.a,{className:"site-layout",children:[Object(P.jsx)($t,{theme:"light",collapsible:!0,collapsed:e,onCollapse:this.onCollapse,children:Object(P.jsx)(C,{userId:null})}),Object(P.jsxs)(Qt,{style:{margin:"0 16px"},children:[Object(P.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:Object(P.jsxs)(Te.d,{children:[Object(P.jsx)(Te.b,{path:"/profile/:id?",exact:!0,render:function(){return Object(P.jsx)(ze,{})}}),Object(P.jsx)(Te.b,{path:"/dialogs",render:function(){return Object(P.jsx)($e,{})}}),Object(P.jsx)(Te.b,{path:"/users",render:function(){return Object(P.jsx)(Ut,{})}}),Object(P.jsx)(Te.b,{path:"/news",component:nt}),Object(P.jsx)(Te.b,{path:"/music",component:it}),Object(P.jsx)(Te.b,{path:"/settings",component:lt}),Object(P.jsx)(Te.b,{path:"/login",component:Gt}),Object(P.jsx)(Te.b,{path:"/",render:function(){return Object(P.jsx)("div",{children:" Home Page :3"})}}),Object(P.jsx)(Te.b,{path:"*",exact:!0,render:function(){return Object(P.jsx)("div",{children:"404 not found"})}})]})}),Object(P.jsx)(Vt.b,{style:{textAlign:"center"},children:"Social Network \xa92020 Created by Bitaev Denis"})]})]})]}):Object(P.jsx)(yt,{})}}]),n}(r.Component),tn=Object(Re.d)(Te.h,Object(_.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(fe.a)(je.a.mark((function e(t){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t(Jt()),Promise.all([n]).then((function(){t({type:Ie})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(en),nn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,387)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)}))},an=n(58),rn={posts:[{id:1,text:"id1 text"},{id:2,text:"id2 text"}],profileInfo:{contacts:{}},photos:{large:"",small:""},status:""},sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return Object(F.a)(Object(F.a)({},e),{},{status:t.status});case be:var n=Object(an.a)(e.posts);return n.push({id:e.posts.length,text:t.text}),Object(F.a)(Object(F.a)({},e),{},{posts:n});case _e:return Object(F.a)(Object(F.a)({},e),{},{profileInfo:Object(F.a)({},t.data),photos:Object(F.a)({},t.data.photos)});case he:return Object(F.a)(Object(F.a)({},e),{},{photos:{small:t.photo.small,large:t.photo.large}});default:return e}},on={dialogs:[{name:"Dima",id:1},{name:"Lena",id:2},{name:"Dimasol",id:3}],messages:[{name:"Dima",text:"test steasd asd;ask asdkjl Asdj "},{name:"Dima",text:"test steasd asd;ask asdkjl Asdj "}],newMessageText:""},cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:var n={name:"Dima",text:t.message},a=Object(an.a)(e.messages);return a.push(n),Object(F.a)(Object(F.a)({},e),{},{messages:a,newMessageText:""});default:return e}},ln={users:[],pageSize:100,totalUsersCount:0,currentPage:1,isFetch:!1,followFetchingId:[],filter:{term:"",friend:null}},un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return Object(F.a)(Object(F.a)({},e),{},{users:e.users.map((function(e){return+e.id===+t.id?Object(F.a)(Object(F.a)({},e),{},{followed:!e.followed}):e}))});case ge:return Object(F.a)(Object(F.a)({},e),{},{users:t.users});case xe:return Object(F.a)(Object(F.a)({},e),{},{currentPage:t.id});case ve:return Object(F.a)(Object(F.a)({},e),{},{totalUsersCount:t.count});case Pe:return Object(F.a)(Object(F.a)({},e),{},{isFetch:t.bool});case Ce:var n,a=e.followFetchingId;return n=-1===a.indexOf(t.id)?[].concat(Object(an.a)(e.followFetchingId),[t.id]):Object(an.a)(e.followFetchingId.filter((function(e){return e!==t.id}))),Object(F.a)(Object(F.a)({},e),{},{followFetchingId:n});case Ne:return Object(F.a)(Object(F.a)({},e),{},{filter:Object(F.a)(Object(F.a)({},e.filter),{},{term:t.filter.term,friend:t.filter.friend})});default:return e}},dn={userId:null,email:null,login:null,isFetching:!1,isAuth:!1},jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return Object(F.a)(Object(F.a)(Object(F.a)({},e),t.data),{},{isAuth:t.data.isAuth});default:return e}},fn=n(213),bn={initialized:!1},_n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return Object(F.a)(Object(F.a)({},e),{},{initialized:!0});default:return e}},pn=n(187),hn=Object(Re.c)({profilePage:sn,messagesPage:cn,usersPage:un,auth:jn,app:_n,form:pn.a}),On=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Re.d,mn=Object(Re.e)(hn,On(Object(Re.a)(fn.a)));o.a.render(Object(P.jsx)(b.a,{children:Object(P.jsx)(_.a,{store:mn,children:Object(P.jsx)(tn,{})})}),document.getElementById("root")),nn()},41:function(e,t,n){e.exports={Navbar:"Navbar_Navbar__muYHO",Navbar__link:"Navbar_Navbar__link__wnKYZ",Navbar__linkActive:"Navbar_Navbar__linkActive__6NVmW"}},63:function(e,t,n){e.exports={formControl:"FormControls_formControl__S3CeG",formControl__input:"FormControls_formControl__input__2LcU4",errorMessage:"FormControls_errorMessage__GeeYf",formControl__textArea:"FormControls_formControl__textArea__2yDSO",error:"FormControls_error__2O2Zx"}},68:function(e,t,n){e.exports={ProfileData:"ProfileData_ProfileData__2cKW2",ProfileData__inputInfo:"ProfileData_ProfileData__inputInfo__AyyMs",ProfileData__info:"ProfileData_ProfileData__info__1-cLZ",ProfileData__contacts:"ProfileData_ProfileData__contacts__zu5XF"}},74:function(e,t,n){e.exports={Dialogs:"Dialogs_Dialogs__2Rk1L",Dialogs__container:"Dialogs_Dialogs__container__2rMCL",Dialogs__lists:"Dialogs_Dialogs__lists__FDg_W",Dialogs__textarea:"Dialogs_Dialogs__textarea__eABIB",Dialogs__messages:"Dialogs_Dialogs__messages__oekil"}},75:function(e,t,n){e.exports={UserCard:"UserCard_UserCard__2zkw9",UserCard__button:"UserCard_UserCard__button__YAMUO",UserCard__avatar:"UserCard_UserCard__avatar__2IDLJ",UserCard__left:"UserCard_UserCard__left__HB3Ce",UserCard__right:"UserCard_UserCard__right__2DrKZ"}},97:function(e,t,n){e.exports={Container:"Post_Container__2_R1p",Post:"Post_Post__1Z0CV",Post__img:"Post_Post__img__1vhlJ",Post__text:"Post_Post__text__3hiuU"}},98:function(e,t,n){e.exports={Message:"Message_Message__rAqoN",Message__text:"Message_Message__text__3N6rx",Message__info:"Message_Message__info__39lrt",Message__img:"Message_Message__img__cJN8n"}}},[[372,1,2]]]);
//# sourceMappingURL=main.d4145355.chunk.js.map