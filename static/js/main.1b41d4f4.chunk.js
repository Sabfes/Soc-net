(this["webpackJsonpreact-sn"]=this["webpackJsonpreact-sn"]||[]).push([[0],{100:function(e,t,n){e.exports={Contact:"Contact_Contact__3-rUG",Contact__link:"Contact_Contact__link__UjwmU"}},101:function(e,t,n){e.exports={DialogItem:"DialogItem_DialogItem__3bSF6",DialogsItemActive:"DialogItem_DialogsItemActive__3qgu1"}},102:function(e,t,n){e.exports={Users:"Users_Users__jvQlB",Users__button:"Users_Users__button__1QKxM",Users__container:"Users_Users__container__3k0tL"}},103:function(e,t,n){e.exports={Container:"Loader_Container__7ffXJ",ldsEllipsis:"Loader_ldsEllipsis__mr9zB",ldsEllipsis1:"Loader_ldsEllipsis1__dgBMS",ldsEllipsis2:"Loader_ldsEllipsis2__hdPBG",ldsEllipsis3:"Loader_ldsEllipsis3__1Awd3"}},104:function(e,t,n){e.exports={Login:"Login_Login__2Lzpd",Login__content:"Login_Login__content__14dum"}},139:function(e,t,n){e.exports={ProfileInfo:"Profile_ProfileInfo__39RHD",ProfileInfo__background:"Profile_ProfileInfo__background__1wMX5",PostContainer:"Profile_PostContainer__3dKRT"}},141:function(e,t,n){e.exports={Button:"Button_Button__1jg1y"}},143:function(e,t,n){e.exports={News:"News_News__1YLtt"}},144:function(e,t,n){e.exports={Music:"Music_Music__334tR"}},145:function(e,t,n){e.exports={Settings:"Settings_Settings__2zKwb"}},16:function(e,t,n){e.exports={Navbar:"Navbar_Navbar__26CYj",Navbar__link:"Navbar_Navbar__link__2K4XO",Navbar__linkActive:"Navbar_Navbar__linkActive__5Ugaj"}},177:function(e,t,n){},178:function(e,t,n){},298:function(e,t,n){"use strict";n.r(t);var a,s=n(0),r=n(1),o=n.n(r),i=n(67),c=n.n(i),l=(n(177),n(26)),u=n(27),d=n(29),j=n(28),_=(n(178),n(16)),f=n.n(_),p=n(13),b=n(10),h=Object(b.b)((function(e){return{userId:e.auth.userId}}),null)((function(e){var t=e.userId;return Object(s.jsxs)("nav",{className:f.a.Navbar,children:[Object(s.jsx)(p.b,{className:f.a.Navbar__link,to:"/profile/"+t,activeClassName:f.a.Navbar__linkActive,children:"Profile"}),Object(s.jsx)(p.b,{className:f.a.Navbar__link,to:"/dialogs",activeClassName:f.a.Navbar__linkActive,children:"Messages"}),Object(s.jsx)(p.b,{className:f.a.Navbar__link,to:"/users",activeClassName:f.a.Navbar__linkActive,children:"Users"}),Object(s.jsx)(p.b,{className:f.a.Navbar__link,to:"/news",activeClassName:f.a.Navbar__linkActive,children:"News"}),Object(s.jsx)(p.b,{className:f.a.Navbar__link,to:"/music",activeClassName:f.a.Navbar__linkActive,children:"Music"}),Object(s.jsx)(p.b,{className:f.a.Navbar__link,to:"/settings",activeClassName:f.a.Navbar__linkActive,children:"Settings"})]})})),g=n(139),O=n.n(g),m=n(69),x=n.n(m),v=n(57),P=n.n(v),C=function(e){return Object(s.jsxs)("div",{className:P.a.Container,children:[Object(s.jsxs)("div",{className:P.a.Post,children:[Object(s.jsx)("img",{className:P.a.Post__img,src:"http://cdn.onlinewebfonts.com/svg/img_167183.png",alt:"post_img"}),Object(s.jsx)("span",{className:P.a.Post__text,children:e.text})]}),Object(s.jsx)("span",{children:"like"})]})},N=function(e){if(!e)return"Field is required"},S=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},w=n(135),I=n(136),D=n(5),k=n(105),y=n(30),U=n.n(y),M=function(e){var t=e.input,n=e.meta,a=Object(k.a)(e,["input","meta"]),r=n.error&&n.touched;return Object(s.jsxs)("div",{className:U.a.formControl+" "+(r?U.a.error:null),children:[Object(s.jsx)("textarea",Object(D.a)(Object(D.a)({className:U.a.formControl__textArea},a),t)),r?Object(s.jsx)("span",{className:U.a.errorMessage,children:n.error}):null]})},A=function(e){var t=e.input,n=e.meta,a=Object(k.a)(e,["input","meta"]),r=n.error&&n.touched;return Object(s.jsxs)("div",{className:U.a.formControl+" "+(r?U.a.error:null),children:[Object(s.jsx)("input",Object(D.a)(Object(D.a)({className:U.a.formControl__input},a),t)),r?Object(s.jsx)("span",{className:U.a.errorMessage,children:n.error}):null]})},F=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(s.jsxs)("div",{children:[Object(s.jsx)(w.a,Object(D.a)({placeholder:e,name:t,validate:n,component:a},r))," ",o]})},E=S(10),L=Object(I.a)({form:"ProfileNewPostForm"})((function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(s.jsx)(w.a,{placeholder:"Post message",className:x.a.MyPost__textarea,validate:[N,E],component:M,name:"newPostText"}),Object(s.jsx)("button",{children:"Add post"})]})})),T=function(e){return Object(s.jsxs)("div",{className:x.a.MyPost,children:[Object(s.jsx)("h1",{children:"My posts"}),Object(s.jsx)(L,{onSubmit:e.onChange}),e.posts.map((function(e,t){return Object(s.jsx)(C,{text:e.text},t)}))]})},H=n(40),z=n(97),R=n.n(z),G=n(98),B=n.n(G),J=function(e){var t=e.desc,n=e.updateProfileStatus,a=e.isOwner,o=Object(r.useState)(!1),i=Object(H.a)(o,2),c=i[0],l=i[1],u=Object(r.useState)(t||"desc"),d=Object(H.a)(u,2),j=d[0],_=d[1];Object(r.useEffect)((function(){_(t)}),[t]);return Object(s.jsxs)("div",{className:B.a.ProfileStatus,children:["Status:",c?Object(s.jsx)("input",{onBlur:function(){l(!1),n(j)},autoFocus:!0,onChange:function(e){_(e.target.value)},value:j,type:"text"}):Object(s.jsx)("span",{className:B.a.ProfileStatus_status,onDoubleClick:function(){a&&l(!0)},children:j})]})},q=n.p+"static/media/avatar-profile.2d4393d1.png",K=n(99),W=n.n(K),X=n(141),Y=n.n(X),Q=function(e){return Object(s.jsx)("button",Object(D.a)(Object(D.a)({},e),{},{className:Y.a.Button,children:e.value}))},V=Object(I.a)({form:"profileData"})((function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit(e.onSubmit),children:[Object(s.jsx)(Q,{type:"submit",value:"save"}),e.error?Object(s.jsx)("div",{style:{color:"red",marginTop:"20px",fontSize:"24px"},children:e.error}):null,Object(s.jsxs)("div",{className:W.a.MainInfo,children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:"Full Name:"}),F("FullName","fullName",[N],A)]}),Object(s.jsxs)("div",{className:W.a.MainInfo__job,children:[Object(s.jsx)("p",{children:"Looking For a job?"}),F("Looking For a job?","lookingForAJob",[],A,{type:"checkbox"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:"Job Description:"}),F("job Description","lookingForAJobDescription",[N],M)]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:"About Me:"}),F("AboutMe","aboutMe",[N],M)]})]}),Object(s.jsxs)("div",{children:["Contacts:",Object.keys(e.profileInfo.contacts).map((function(e,t){return Object(s.jsx)("div",{children:F(e,"contacts."+e,[],A)},t)}))]})]})})),Z=n(35),$=n.n(Z),ee=n(100),te=n.n(ee),ne=function(e){return Object(s.jsxs)("div",{className:te.a.Contact,children:[e.title,": ",Object(s.jsx)("span",{className:te.a.Contact__link,children:e.value||"-"})]})},ae=function(e){var t=e.profileInfo;return Object(s.jsxs)("div",{className:$.a.ProfileData,children:[Object(s.jsxs)("div",{className:$.a.ProfileData__info,children:[Object(s.jsxs)("div",{children:["Fullname:",Object(s.jsx)("span",{className:$.a.ProfileData__inputInfo,children:t.fullName})]}),Object(s.jsxs)("div",{children:["looking For A Job:",Object(s.jsx)("span",{className:$.a.ProfileData__inputInfo,children:t.lookingForAJob?"yes":"no"})]}),t.lookingForAJob?Object(s.jsxs)("div",{children:["looking For A Job Description:",Object(s.jsx)("span",{className:$.a.ProfileData__inputInfo,children:t.lookingForAJobDescription})]}):null,Object(s.jsxs)("div",{children:["aboutMe: ",Object(s.jsx)("span",{className:$.a.ProfileData__inputInfo,children:t.aboutMe})]})]}),Object(s.jsxs)("div",{className:$.a.ProfileData__contacts,children:["Contacts:",Object.keys(t.contacts).map((function(e){return Object(s.jsx)(ne,{title:e,value:t.contacts[e]},e)}))]})]})},se=function(e){var t=Object(r.useState)(!1),n=Object(H.a)(t,2),a=n[0],o=n[1];return Object(s.jsxs)("div",{className:R.a.ProfileInfo,children:[Object(s.jsx)("img",{className:R.a.ProfileInfo__avatarImg,src:e.avatarImg.large||q,alt:"avatar-img"}),e.isOwner?Object(s.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}):null,Object(s.jsx)(J,{isOwner:e.isOwner,updateProfileStatus:e.updateProfileStatus,desc:e.desc}),e.isOwner&&!a?Object(s.jsx)(Q,{onClick:function(){o(!0)},value:"edit"}):null,a?Object(s.jsx)(V,{profileInfo:e.profileInfo,initialValues:e.profileInfo,onSubmit:function(t){e.updateProfileInfo(t).then((function(){o(!1)}))}}):Object(s.jsx)(ae,{profileInfo:e.profileInfo})]})},re=n(12),oe=n.n(re),ie=n(20),ce="profile/ADD_POST",le="profile/SET_PROFILE_INFO",ue="profile/SET_PROFILE_STATUS",de="SAVE_PHOTO_SUCCESS",je="message/ADD_MESSAGE",_e="users/FOLLOW_TOGGLE",fe="users/SET_USERS",pe="users/CHANGE_CURRENT_PAGE",be="users/SET_USERS_TOTAL_COUNT",he="users/IS_FETCH_TOGGLE",ge="users/FOLLOW_FETCHING_TOGGLE",Oe="auth/SET_USER_DATA",me="app/INITIALIZED_SUCCESS",xe=n(142),ve=n.n(xe).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"71a0323c-7ff9-4763-8740-70e9a845b5eb"}});!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.ERROR=1]="ERROR"}(a||(a={}));var Pe=function(e){return ve.get("profile/".concat(e)).then((function(e){return e.data}))},Ce=function(e){return ve.get("profile/status/".concat(e)).then((function(e){return e.data}))},Ne=function(e){return ve.put("profile/status",{status:e}).then((function(e){return e.data}))},Se=function(e){return ve.put("profile/",e).then((function(e){return e.data}))},we=function(e){var t=new FormData;return t.append("image",e),ve.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},Ie=n(25),De=function(e){return{type:ue,status:e}},ke=function(e){return function(){var t=Object(ie.a)(oe.a.mark((function t(n){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pe(e);case 2:a=t.sent,n({type:le,data:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ye=n(11),Ue=n(9),Me=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).updateProfile=function(){if(!e.props.isAuth)return Object(s.jsx)(ye.a,{to:"/login"});var t=e.props.match.params.id;t||(t=e.props.userId)||e.props.history.push("/login "),e.props.getProfile(t),e.props.getProfileStatus(t)},e.onChangeHandler=function(t){e.props.addPost(t.newPostText)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.updateProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.id!==e.match.params.id&&this.updateProfile()}},{key:"render",value:function(){return this.props.isAuth?Object(s.jsxs)("main",{className:O.a.ProfileInfo,children:[Object(s.jsx)(se,{updateProfileInfo:this.props.updateProfileInfo,profileInfo:this.props.profileInfo,isOwner:+this.props.match.params.id===+this.props.userId,updateProfileStatus:this.props.updateProfileStatus,avatarImg:this.props.photos,desc:this.props.status,savePhoto:this.props.savePhoto}),Object(s.jsx)(T,{onClick:this.props.addPost,onChange:this.onChangeHandler,posts:this.props.posts})]}):Object(s.jsx)(ye.a,{to:"/login"})}}]),n}(o.a.Component);var Ae=Object(Ue.d)(ye.g,Object(b.b)((function(e){return{posts:e.profilePage.posts,profileInfo:e.profilePage.profileInfo,status:e.profilePage.status,isAuth:e.auth.isAuth,userId:e.auth.userId,photos:e.profilePage.photos}}),{newPostTextUpdate:function(e){return{type:"profile/NEW_POST_TEXT",text:e}},addPost:function(e){return{type:ce,text:e}},getProfile:ke,updateProfileInfo:function(e){return function(){var t=Object(ie.a)(oe.a.mark((function t(n,s){var r,o;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s().auth.userId,t.next=3,Se(e);case 3:if((o=t.sent).resultCode!==a.SUCCESS){t.next=8;break}null!==r?n(ke(r)):console.log("userId = null"),t.next=10;break;case 8:return n(Object(Ie.a)("profileData",{_error:o.messages[0]})),t.abrupt("return",Promise.reject(o.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},updateProfileStatus:function(e){return function(){var t=Object(ie.a)(oe.a.mark((function t(n){return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne(e);case 2:t.sent.resultCode===a.SUCCESS&&n(De(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getProfileStatus:function(e){return function(){var t=Object(ie.a)(oe.a.mark((function t(n){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ce(e);case 2:a=t.sent,n(De(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(ie.a)(oe.a.mark((function t(n){var s;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,we(e);case 2:(s=t.sent).resultCode===a.SUCCESS&&n((r=s.data.photos,{type:de,photo:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(Me),Fe=n(41),Ee=n.n(Fe),Le=n(58),Te=n.n(Le),He=function(e){return Object(s.jsxs)("div",{className:Te.a.Message,children:[Object(s.jsxs)("div",{className:Te.a.Message__info,children:[Object(s.jsx)("img",{className:Te.a.Message__img,src:"http://cdn.onlinewebfonts.com/svg/download_508630.png",alt:"avatar"}),Object(s.jsx)("span",{children:e.name})]}),Object(s.jsx)("p",{className:Te.a.Message__text,children:e.text})]})},ze=n(101),Re=n.n(ze),Ge=function(e){return Object(s.jsx)(p.b,{className:Re.a.DialogItem,to:"/dialogs/".concat(e.id),activeClassName:Re.a.DialogsItemActive,children:e.name})},Be=function(e){var t=function(t){Object(d.a)(a,t);var n=Object(j.a)(a);function a(){return Object(l.a)(this,a),n.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return this.props.isAuth?Object(s.jsx)(e,Object(D.a)({},this.props)):Object(s.jsx)(ye.a,{to:"/login"})}}]),a}(o.a.Component);return Object(b.b)((function(e){return{isAuth:e.auth.isAuth}}),null)(t)},Je=S(50),qe=Object(I.a)({form:"dialogAddMessageForm"})((function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(s.jsx)(w.a,{component:M,name:"newMsg",placeholder:"text",validate:[N,Je],className:Ee.a.Dialogs__textarea}),Object(s.jsx)("button",{children:"Add message"})]})}));var Ke=Object(Ue.d)(Object(b.b)((function(e){return{messages:e.messagesPage.messages,dialogs:e.messagesPage.dialogs}}),{addNewMessageActionCreator:function(e){return{type:je,message:e}}}),Be)((function(e){var t=e.isAuth,n=e.messages,a=e.dialogs,r=e.addNewMessageActionCreator;return t?Object(s.jsxs)("div",{className:Ee.a.Dialogs,children:[Object(s.jsx)("h1",{children:"Dialogs"}),Object(s.jsxs)("div",{className:Ee.a.Dialogs__container,children:[Object(s.jsx)("div",{className:Ee.a.Dialogs__lists,children:a.map((function(e,t){return Object(s.jsx)(Ge,{name:e.name,id:e.id},t)}))}),Object(s.jsxs)("div",{className:Ee.a.Dialogs__messages,children:[n.map((function(e,t){return Object(s.jsx)(He,{name:e.name,text:e.text},t)})),Object(s.jsx)(qe,{onSubmit:function(e){r(e.newMsg)}})]})]})]}):Object(s.jsx)(ye.a,{to:"/login"})})),We=n(143),Xe=n.n(We),Ye=function(){return Object(s.jsx)("div",{className:Xe.a.News,children:Object(s.jsx)("h1",{children:"News"})})},Qe=n(144),Ve=n.n(Qe),Ze=n.p+"static/media/audio-boyka.dea5dbfe.mp3",$e=function(){return Object(s.jsxs)("div",{className:Ve.a.Music,children:[Object(s.jsx)("h1",{children:"Music"}),Object(s.jsxs)("div",{onClick:function(e){console.log(e.target)},children:[Object(s.jsx)("p",{children:"Miya Boyko - AUF"}),Object(s.jsx)("audio",{controls:!0,children:Object(s.jsx)("source",{src:Ze,type:"audio/mpeg"})})]})]})},et=n(145),tt=n.n(et),nt=function(){return Object(s.jsx)("div",{className:tt.a.Settings,children:Object(s.jsx)("h1",{children:"Settings"})})},at=n(102),st=n.n(at),rt=n(42),ot=n.n(rt),it=function(e){var t=e.id,n=e.imgUrl,a=e.isFollow,r=e.btnDisabledIdArray,o=e.unFollow,i=e.name,c=e.status,l=e.follow;return Object(s.jsxs)("div",{className:ot.a.UserCard,children:[Object(s.jsxs)("div",{className:ot.a.UserCard__left,children:[Object(s.jsx)(p.b,{to:"/profile/"+t,children:Object(s.jsx)("img",{className:ot.a.UserCard__avatar,src:null!==n?n:q,alt:"avatar"})}),a?Object(s.jsx)("button",{disabled:!!r.some((function(e){return e===t})),id:t.toString(),onClick:function(){o(t)},className:ot.a.UserCard__button,children:"UNFOLLOW"}):Object(s.jsx)("button",{disabled:!!r.some((function(e){return e===t})),id:t.toString(),onClick:function(){l(t)},className:ot.a.UserCard__button,children:"FOLLOW"})]}),Object(s.jsxs)("div",{className:ot.a.UserCard__right,children:[Object(s.jsx)("span",{children:i}),Object(s.jsx)("span",{children:c})]})]})},ct=n(73),lt=n.n(ct),ut=function(e){var t=e.currentPage,n=e.changePage,a=e.pages,o=Object(r.useState)(1),i=Object(H.a)(o,2),c=i[0],l=i[1],u=10*(c-1),d=10*c;return Object(s.jsxs)("div",{className:lt.a.Paginator,children:[Object(s.jsx)("button",{onClick:function(){1<c&&l((function(e){return e-1}))},children:"-"}),a.filter((function(e){return e>=u&&e<=d})).map((function(e,a){return Object(s.jsx)("span",{id:e.toString(),onClick:n,className:t===e?lt.a.selectedPage:lt.a.Paginator__item,children:e},a)})),Object(s.jsx)("button",{onClick:function(){Math.ceil(a.length/10)>c&&l((function(e){return e+1}))},children:"+"})]})},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return ve.get("users?page=".concat(e,"&count=").concat(t))},jt=function(e){return ve.post("follow/".concat(e)).then((function(e){return e.data}))},_t=function(e){return ve.delete("follow/".concat(e)).then((function(e){return e.data}))},ft=function(e){return{type:_e,id:e}},pt=function(e){return{type:he,bool:e}},bt=function(e){return{type:ge,id:e}},ht=n(103),gt=n.n(ht),Ot=function(){return Object(s.jsx)("div",{className:gt.a.Container,children:Object(s.jsxs)("div",{className:gt.a.ldsEllipsis,children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})})},mt=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).onChangePage=function(t){e.props.changeCurrentPage(+t.target.id),e.props.requestUsers(+t.target.id,e.props.pageSize)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){for(var e=this,t=Math.ceil(this.props.totalUsersCount/this.props.pageSize),n=[],a=1;a<=t;a++)n.push(a);return Object(s.jsxs)("div",{className:st.a.Users,children:[Object(s.jsx)("h1",{children:"users"}),Object(s.jsx)(ut,{pages:n,changePage:this.onChangePage,currentPage:this.props.currentPage}),Object(s.jsxs)("div",{className:st.a.Users__container,children:[this.props.isFetch?Object(s.jsx)(Ot,{}):null,this.props.isFetch?null:this.props.users.map((function(t,n){return Object(s.jsx)(it,{id:t.id,name:t.name,status:t.status,isFollow:t.followed,imgUrl:t.photos.small,btnDisabledIdArray:e.props.followFetchingId,follow:e.props.follow,unFollow:e.props.unFollow},n)}))]})]})}}]),n}(o.a.Component);var xt=Object(b.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetch:e.usersPage.isFetch,followFetchingId:e.usersPage.followFetchingId}}),{changeCurrentPage:function(e){return{type:pe,id:e}},requestUsers:function(e,t){return function(n){n(pt(!0)),dt(e,t).then((function(e){var t,a;n((t=e.data.items,{type:fe,users:t})),n((a=e.data.totalCount,{type:be,count:a})),n(pt(!1))}))}},followFetchingToggle:bt,follow:function(e){return function(t){t(bt(e)),jt(e).then((function(n){n.resultCode===a.SUCCESS&&(t(ft(e)),t(bt(e)))}))}},unFollow:function(e){return function(t){t(bt(e)),_t(e).then((function(n){n.resultCode===a.SUCCESS&&(t(ft(e)),t(bt(e)))}))}}})(Be(mt)),vt=n(74),Pt=n.n(vt),Ct=function(e){var t=e.logoutUser,n=e.isAuth;return Object(s.jsxs)("header",{className:Pt.a.Header,children:[Object(s.jsx)("span",{className:Pt.a.Header__logo,children:"bitaev.SN"}),n?Object(s.jsx)("button",{onClick:t,children:"logout"}):Object(s.jsx)("div",{children:Object(s.jsx)(p.b,{className:Pt.a.Header__login,to:"/login",children:"login"})})]})},Nt=function(){return ve.get("auth/me").then((function(e){return e.data}))},St=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ve.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},wt=function(){return ve.delete("auth/login")},It=function(e,t,n,a){return{type:Oe,data:{userId:e,email:t,login:n,isAuth:a}}},Dt=function(){return function(){var e=Object(ie.a)(oe.a.mark((function e(t){var n,s,r,o,i;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt();case 2:(n=e.sent).resultCode===a.SUCCESS&&(s=n.data,r=s.id,o=s.login,i=s.email,t(It(r,i,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},kt=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsx)(Ct,Object(D.a)({},this.props))}}]),n}(r.Component),yt=Object(b.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{setAuthUserData:It,logoutUser:function(){return function(){var e=Object(ie.a)(oe.a.mark((function e(t){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt();case 2:e.sent.data.resultCode===a.SUCCESS&&t(It(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(kt),Ut=S(30),Mt=Object(I.a)({form:"login"})((function(e){var t=e.error,n=e.handleSubmit;return Object(s.jsxs)("form",{onSubmit:n,children:[Object(s.jsx)(w.a,{component:A,validate:[Ut,N],name:"email",placeholder:"login"}),Object(s.jsx)(w.a,{component:A,validate:[Ut,N],name:"password",placeholder:"password"}),Object(s.jsxs)("div",{children:[Object(s.jsx)(w.a,{component:"input",name:"rememberMe",type:"checkbox"}),Object(s.jsx)("span",{children:"remember me"})]}),Object(s.jsx)("button",{children:"login"}),t?Object(s.jsx)("div",{style:{color:"red",marginTop:"20px",fontSize:"24px"},children:t}):null]})})),At=n(104),Ft=n.n(At);var Et=Object(b.b)((function(e){return{isAuth:e.auth.isAuth,userId:e.auth.userId}}),{LoginUser:function(e,t,n){return function(){var s=Object(ie.a)(oe.a.mark((function s(r){var o,i;return oe.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,St(e,t,n);case 2:(o=s.sent).resultCode===a.SUCCESS?(console.log("norm"),r(Dt())):(console.log("stop"),i=o.messages.length>0?o.messages[0]:"Some error",r(Object(Ie.a)("login",{_error:i})));case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}})((function(e){var t=e.LoginUser,n=e.isAuth,a=e.userId;return n?Object(s.jsx)(ye.a,{to:"/profile/".concat(a)}):Object(s.jsx)("div",{className:Ft.a.Login,children:Object(s.jsxs)("div",{className:Ft.a.Login__content,children:[Object(s.jsx)("h1",{children:"Login Page"}),Object(s.jsx)(Mt,{onSubmit:function(e){t(e.email,e.password,e.rememberMe)}})]})})})),Lt=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(s.jsxs)("div",{className:"App-wrapper",children:[Object(s.jsx)(yt,{}),Object(s.jsx)(h,{}),Object(s.jsxs)(ye.d,{children:[Object(s.jsx)(ye.b,{path:"/profile/:id?",exact:!0,render:function(){return Object(s.jsx)(Ae,{})}}),Object(s.jsx)(ye.b,{path:"/dialogs",render:function(){return Object(s.jsx)(Ke,{})}}),Object(s.jsx)(ye.b,{path:"/users",render:function(){return Object(s.jsx)(xt,{})}}),Object(s.jsx)(ye.b,{path:"/news",component:Ye}),Object(s.jsx)(ye.b,{path:"/music",component:$e}),Object(s.jsx)(ye.b,{path:"/settings",component:nt}),Object(s.jsx)(ye.b,{path:"/login",component:Et}),Object(s.jsx)(ye.b,{path:"/",render:function(){return Object(s.jsx)("div",{children:" Home Page :3"})}}),Object(s.jsx)(ye.b,{path:"*",exact:!0,render:function(){return Object(s.jsx)("div",{children:"404 not found"})}})]})]}):Object(s.jsx)(Ot,{})}}]),n}(r.Component),Tt=Object(Ue.d)(ye.g,Object(b.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(ie.a)(oe.a.mark((function e(t){var n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t(Dt()),Promise.all([n]).then((function(){t({type:me})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(Lt),Ht=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,299)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),s(e),r(e),o(e)}))},zt=n(39),Rt={posts:[{id:1,text:"id1 text"},{id:2,text:"id2 text"}],profileInfo:{contacts:{}},photos:{large:"",small:""},status:""},Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Object(D.a)(Object(D.a)({},e),{},{status:t.status});case ce:var n=Object(zt.a)(e.posts);return n.push({id:e.posts.length,text:t.text}),Object(D.a)(Object(D.a)({},e),{},{posts:n});case le:return Object(D.a)(Object(D.a)({},e),{},{profileInfo:Object(D.a)({},t.data),photos:Object(D.a)({},t.data.photos)});case de:return Object(D.a)(Object(D.a)({},e),{},{photos:{small:t.photo.small,large:t.photo.large}});default:return e}},Bt={dialogs:[{name:"Dima",id:1},{name:"Lena",id:2},{name:"Dimasol",id:3}],messages:[{name:"Dima",text:"test steasd asd;ask asdkjl Asdj "},{name:"Dima",text:"test steasd asd;ask asdkjl Asdj "}],newMessageText:""},Jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:var n={name:"Dima",text:t.message},a=Object(zt.a)(e.messages);return a.push(n),Object(D.a)(Object(D.a)({},e),{},{messages:a,newMessageText:""});default:return e}},qt={users:[],pageSize:100,totalUsersCount:0,currentPage:1,isFetch:!1,followFetchingId:[]},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return Object(D.a)(Object(D.a)({},e),{},{users:e.users.map((function(e){return+e.id===+t.id?Object(D.a)(Object(D.a)({},e),{},{followed:!e.followed}):e}))});case fe:return Object(D.a)(Object(D.a)({},e),{},{users:t.users});case pe:return Object(D.a)(Object(D.a)({},e),{},{currentPage:t.id});case be:return Object(D.a)(Object(D.a)({},e),{},{totalUsersCount:t.count});case he:return Object(D.a)(Object(D.a)({},e),{},{isFetch:t.bool});case ge:var n,a=e.followFetchingId;return n=-1===a.indexOf(t.id)?[].concat(Object(zt.a)(e.followFetchingId),[t.id]):Object(zt.a)(e.followFetchingId.filter((function(e){return e!==t.id}))),Object(D.a)(Object(D.a)({},e),{},{followFetchingId:n});default:return e}},Wt={userId:null,email:null,login:null,isFetching:!1,isAuth:!1},Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return Object(D.a)(Object(D.a)(Object(D.a)({},e),t.data),{},{isAuth:t.data.isAuth});default:return e}},Yt=n(146),Qt={initialized:!1},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return Object(D.a)(Object(D.a)({},e),{},{initialized:!0});default:return e}},Zt=n(137),$t=Object(Ue.c)({profilePage:Gt,messagesPage:Jt,usersPage:Kt,auth:Xt,app:Vt,form:Zt.a}),en=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ue.d,tn=Object(Ue.e)($t,en(Object(Ue.a)(Yt.a)));c.a.render(Object(s.jsx)(p.a,{children:Object(s.jsx)(b.a,{store:tn,children:Object(s.jsx)(Tt,{})})}),document.getElementById("root")),Ht()},30:function(e,t,n){e.exports={formControl:"FormControls_formControl__y1snG",formControl__input:"FormControls_formControl__input__ktKmF",errorMessage:"FormControls_errorMessage__OyhLk",formControl__textArea:"FormControls_formControl__textArea__1mJS7",error:"FormControls_error__D-3if"}},35:function(e,t,n){e.exports={ProfileData:"ProfileData_ProfileData__24wLe",ProfileData__inputInfo:"ProfileData_ProfileData__inputInfo__1uM6q",ProfileData__info:"ProfileData_ProfileData__info__Pw9Y4",ProfileData__contacts:"ProfileData_ProfileData__contacts__234Mx"}},41:function(e,t,n){e.exports={Dialogs:"Dialogs_Dialogs__2ugwq",Dialogs__container:"Dialogs_Dialogs__container__23HVH",Dialogs__lists:"Dialogs_Dialogs__lists__l8Y-T",Dialogs__textarea:"Dialogs_Dialogs__textarea__1gutB",Dialogs__messages:"Dialogs_Dialogs__messages__1ag5-"}},42:function(e,t,n){e.exports={UserCard:"UserCard_UserCard__1fae3",UserCard__button:"UserCard_UserCard__button__kCIFG",UserCard__avatar:"UserCard_UserCard__avatar__16PZw",UserCard__left:"UserCard_UserCard__left__2ZKha",UserCard__right:"UserCard_UserCard__right__bc02s"}},57:function(e,t,n){e.exports={Container:"Post_Container__2MEhv",Post:"Post_Post__1w9qu",Post__img:"Post_Post__img__HsQd2",Post__text:"Post_Post__text__3F5Re"}},58:function(e,t,n){e.exports={Message:"Message_Message__1z8nY",Message__text:"Message_Message__text__ycGEz",Message__info:"Message_Message__info__1Tz6M",Message__img:"Message_Message__img__2wiMZ"}},69:function(e,t,n){e.exports={MyPost:"MyPosts_MyPost__1ny2Q",MyPost__textarea:"MyPosts_MyPost__textarea__GL1Yi"}},73:function(e,t,n){e.exports={Paginator:"Paginator_Paginator__16_CW",Paginator__item:"Paginator_Paginator__item__oPjhC",selectedPage:"Paginator_selectedPage__X0fLK"}},74:function(e,t,n){e.exports={Header:"Header_Header__2iLpl",Header__logo:"Header_Header__logo__37CKq",Header__login:"Header_Header__login__1FTk6"}},97:function(e,t,n){e.exports={ProfileInfo:"ProfileInfo_ProfileInfo__yTt80",ProfileInfo__description:"ProfileInfo_ProfileInfo__description__23OoF",ProfileInfo__avatarImg:"ProfileInfo_ProfileInfo__avatarImg__3JlSm"}},98:function(e,t,n){e.exports={ProfileStatus:"ProfileStatus_ProfileStatus__3cbzs",ProfileStatus_status:"ProfileStatus_ProfileStatus_status__1PEWm"}},99:function(e,t,n){e.exports={MainInfo:"ProfileDataFormRedux_MainInfo__14_ir",MainInfo__job:"ProfileDataFormRedux_MainInfo__job__2l1FO"}}},[[298,1,2]]]);
//# sourceMappingURL=main.1b41d4f4.chunk.js.map